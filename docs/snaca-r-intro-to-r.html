<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jacob T.N. Young">

<title>Social Network Analysis for Crime Analysts using R - Getting Started with R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./snaca-r-rmarkdown.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./snaca-r-intro-to-r.html">Getting Started with R</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Social Network Analysis for Crime Analysts using R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jacobtnyoung/snaca-r" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-intro-to-r.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Getting Started with R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Creating Data-Driven Documents using RMarkdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-network-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Networks in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basics of Network Visualization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-degree-centrality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Degree Centrality and Centralization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-closeness-centrality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Closeness Centrality and Centralization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-betweenness-centrality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Betweenness Centrality and Centralization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-bipartite.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bipartite Graphs &amp; Two-Mode Networks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./snaca-r-projection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projection &amp; Weighted Graphs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#things-about-r-to-get-you-started" id="toc-things-about-r-to-get-you-started" class="nav-link active" data-scroll-target="#things-about-r-to-get-you-started"><em>10 Things about R to get you started:</em></a>
  <ul class="collapse">
  <li><a href="#what-is-r" id="toc-what-is-r" class="nav-link" data-scroll-target="#what-is-r"><strong>1. What is R</strong></a></li>
  <li><a href="#installing-and-starting" id="toc-installing-and-starting" class="nav-link" data-scroll-target="#installing-and-starting"><strong>2. Installing and Starting</strong></a></li>
  <li><a href="#objects-in-r" id="toc-objects-in-r" class="nav-link" data-scroll-target="#objects-in-r"><strong>3. Objects in R</strong></a></li>
  </ul></li>
  <li><a href="#functions-in-r" id="toc-functions-in-r" class="nav-link" data-scroll-target="#functions-in-r"><strong>4. Functions in R</strong></a></li>
  <li><a href="#referencing-and-indexing-objects-in-r" id="toc-referencing-and-indexing-objects-in-r" class="nav-link" data-scroll-target="#referencing-and-indexing-objects-in-r"><strong>5. Referencing and Indexing Objects in R</strong></a>
  <ul class="collapse">
  <li><a href="#types-of-objects-classes-in-r" id="toc-types-of-objects-classes-in-r" class="nav-link" data-scroll-target="#types-of-objects-classes-in-r"><strong>6. Types of objects (“classes”) in R</strong></a></li>
  <li><a href="#matrices-in-r" id="toc-matrices-in-r" class="nav-link" data-scroll-target="#matrices-in-r"><strong>7. Matrices in R</strong></a></li>
  <li><a href="#one-of-the-most-important-functions-in-r-help" id="toc-one-of-the-most-important-functions-in-r-help" class="nav-link" data-scroll-target="#one-of-the-most-important-functions-in-r-help"><strong>8. One of the most important functions in R: <code>help()</code></strong></a></li>
  <li><a href="#packages-and-the-install.packages-and-library-functions" id="toc-packages-and-the-install.packages-and-library-functions" class="nav-link" data-scroll-target="#packages-and-the-install.packages-and-library-functions"><strong>9. Packages and the <code>install.packages()</code> and <code>library()</code> Functions</strong></a></li>
  <li><a href="#r-session-management" id="toc-r-session-management" class="nav-link" data-scroll-target="#r-session-management"><strong>10. R Session Management</strong></a></li>
  <li><a href="#bonus-r-studio" id="toc-bonus-r-studio" class="nav-link" data-scroll-target="#bonus-r-studio"><strong>11. (Bonus!) R Studio</strong></a></li>
  <li><a href="#rstudio-workthrough" id="toc-rstudio-workthrough" class="nav-link" data-scroll-target="#rstudio-workthrough">RStudio workthrough</a></li>
  </ul></li>
  <li><a href="#test-your-knowledge-exercises" id="toc-test-your-knowledge-exercises" class="nav-link" data-scroll-target="#test-your-knowledge-exercises">Test Your Knowledge Exercises</a></li>
  <li><a href="#tutorial-summary" id="toc-tutorial-summary" class="nav-link" data-scroll-target="#tutorial-summary">Tutorial Summary</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/jacobtnyoung/snaca-r/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Getting Started with R</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this tutorial, you will be introduced to the programming language R. The tutorial is designed for those who have no experience with R. We begin with what R is, how you install it, and work through how to navigate the environment. Even if you have used R before (awesome!), I would encourage you to review the tutorial as a refresher.</p>
<section id="things-about-r-to-get-you-started" class="level2">
<h2 class="anchored" data-anchor-id="things-about-r-to-get-you-started"><em>10 Things about R to get you started:</em></h2>
<section id="what-is-r" class="level3">
<h3 class="anchored" data-anchor-id="what-is-r"><strong>1. What is R</strong></h3>
<p>R is a dialect of the <em>S</em> language that was written by John Chambers and others at Bell tutorials in the 70s. In the 90s, R was developed and made avaitutorialle to the public with the GNU general public license. Importantly, R is <em>free</em>, meaning that you don’t have to pay for it (duh), but it is also <strong>open source</strong>, meaning that you have freedom to use and modify it.</p>
<p>R is an operating system for data science software. Just as Windows allows you to turn on your computer, open a web browser, moved files around, and write a paper using MS Word, R allows you to install and run packages and manage files while organizing large data projects. Just like Windows would be a very boring piece of software without all of the applications you run while on the computer, R would be a boring language without all of the packages it can run.</p>
</section>
<section id="installing-and-starting" class="level3">
<h3 class="anchored" data-anchor-id="installing-and-starting"><strong>2. Installing and Starting</strong></h3>
<p>Go to <a href="http://cran.r-project.org" class="uri">http://cran.r-project.org</a>. Find the “Download R for…” link that is appropriate for your operating system.</p>
<p>When R starts it loads some basic info and provides you with a prompt: <code>&gt;</code></p>
<p>This prompt is the fundamental entry point for communicating with R. We type expressions at the prompt, R evaluates these expressions, and returns output.</p>
</section>
<section id="objects-in-r" class="level3">
<h3 class="anchored" data-anchor-id="objects-in-r"><strong>3. Objects in R</strong></h3>
<p>R is a programming language. That means, it allows us to give instructions to our computer to do stuff. We will see that there is a lot of “stuff” we can do. But, the basic orientation to R is understanding <strong>objects</strong>.</p>
<p>What is an <em>object</em>? Without getting to philosophical, an <em>object</em> is something we create in the R environment. Think of an R session as a box. We are creating objects and putting them into the box. This is quite different from data analysis programs like SPSS or Stata.</p>
<p>We create objects by using the assignment operator: <code>&lt;-</code></p>
<p>What you type on the right is assigned to what you type on the left. For example:<br>
<code>y &lt;- 4</code> (we have assigned the value 4 to the object y)<br>
<code>x &lt;- 6</code> (we have assigned the value 6 to the object x)<br>
<code>z &lt;- y</code> (we have assigned the value of the object y to the object z, i.e.&nbsp;z = 4)</p>
<p>After assigning a value to an object, type the name of the object and hit return/enter to see what the value is.</p>
<p>Objects can start with a letter or a period. <em>But</em>, you cannot name a object starting with a number (or other symbols used by R).<br>
Some examples:<br>
<code>the.number.two &lt;- 2</code><br>
<code>2 &lt;- the.number.two</code><br>
<code>2.the.number &lt;- 2</code><br>
<code>;.2 &lt;- 2</code></p>
<p>R is case sensitive (i.e.&nbsp;<code>A</code> is a different object than <code>a</code>). R is insensitive to white space though.<br>
These two examples are treated the same in R:<br>
<code>x &lt;- 2</code><br>
<code>x&lt;-              2</code></p>
<p>To have R ignore text, use the <code>#</code> sign to make comments.<br>
For example: <code>x &lt;- 2 # this assigns the value 2 to object x.</code></p>
<p>In R there are no carriage returns (e.g.&nbsp;Stata uses <code>///</code> in code). Sorry :(</p>
</section>
</section>
<section id="functions-in-r" class="level2">
<h2 class="anchored" data-anchor-id="functions-in-r"><strong>4. Functions in R</strong></h2>
<p>A major strength of R is the ability to manipulate objects using functions. A function takes an argument (aka input) and returns some value (aka output).</p>
<p>For example, suppose we wanted to create a list of numbers, called a <em>vector</em>. We want to create an object that is defined by the list of numbers. In R, there is a preprogrammed function <code>c()</code>, which combines or <em>concatenates</em> values to create a single object. We can create an object <code>x</code>, that is a vector of 1, 2, 3, 4, and 5 using: <code>x &lt;- c(1,2,3,4,5)</code>.</p>
<p>This reads: the object x is assigned the values 1, 2, 3, 4, and 5. The function is “<code>c</code>” and the argument is <code>1,2,3,4,5</code>.</p>
<p>The number of values (aka elements) a vector contains is referred to as the “length”. We can use the <code>length()</code> function to return this information for us. For example: <code>length(x)</code> shows that the vector <code>x</code> has 5 values or elements.</p>
<p><em>Reminder</em>: R is a language, so part of the learning curve is getting familiar with the names of functions.</p>
</section>
<section id="referencing-and-indexing-objects-in-r" class="level2">
<h2 class="anchored" data-anchor-id="referencing-and-indexing-objects-in-r"><strong>5. Referencing and Indexing Objects in R</strong></h2>
<p>In R, specific elements in an object are referenced by using brackets (i.e.&nbsp;<code>[</code> or <code>]</code>).</p>
<p>For example, let’s create a vector and work with it:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span> ) <span class="co"># create the vector.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">5</span>] <span class="co"># what is the fifth element  in x?  </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>] <span class="co"># what are the second through fourth elements in x?  </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>x[ <span class="fu">c</span>( <span class="dv">1</span>,<span class="dv">4</span> )] <span class="co"># what are the first and fourth elements in x?  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Note</em> the difference in use between <code>[#:#]</code> and <code>[c(#,#)]</code>. The colon <code>:</code> means “through” and the comma <code>,</code> means “and”.</p>
<p>We can also change values by indexing:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">5</span>]   <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="co"># change the fifth element in x to 5.  </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># change the first through fifth elements in x to 0.  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using brackets to identify particular elements, called <em>indexing</em>, is VERY useful. By using indexing, we can create objects from other objects, or reference particular locations. The utility of this will be more obvious later.</p>
<section id="types-of-objects-classes-in-r" class="level3">
<h3 class="anchored" data-anchor-id="types-of-objects-classes-in-r"><strong>6. Types of objects (“classes”) in R</strong></h3>
<p>Objects in R can be of different types or <strong>classes</strong>. There are four:</p>
<ul>
<li>numeric, a number (e.g.&nbsp;<code>1, 2</code>)</li>
<li>character, a letter or word (e.g.&nbsp;<code>"Shelley", "Trevor"</code>)</li>
<li>factor, a category (e.g.&nbsp;<code>female, male</code>)</li>
<li>logical, True or False values (e.g.&nbsp;<code>TRUE, FALSE</code>)</li>
</ul>
<p>Each type of vector serves different purposes:</p>
<ul>
<li><em>numeric</em>: keep track of quantitative measures, counts, or orders of things<br>
</li>
<li><em>character</em>: store non-numeric data, typically unstructured text<br>
</li>
<li><em>factor</em>: represent distinct and mutually-exclusive categories<br>
</li>
<li><em>logical</em>: designate cases that meet some criteria, usually group inclusion</li>
</ul>
<p>For example, let’s build a few objects:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>nums <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span> )</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"Shelley"</span>, <span class="st">"Trevor"</span> )</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>sex <span class="ot">&lt;-</span> <span class="fu">factor</span>( <span class="fu">c</span>( <span class="st">"female"</span>, <span class="st">"male"</span> ) )</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>is_female <span class="ot">&lt;-</span> sex <span class="sc">==</span> <span class="st">"female"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that numbers <strong>do not</strong> require <code>" "</code> around them but characters <strong>do</strong> require <code>" "</code> around them. Also, that the object <code>is.female</code> is created by stating a condition.</p>
<p>Each object has a class, which defines the “type” of vector a particular object is:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>name_list <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"Hugo"</span>,<span class="st">"Desmond"</span>,<span class="st">"Largo"</span> ) <span class="co"># assign the characters to an object.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>( name_list ) <span class="co"># is the object a character vector?</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>( name_list ) <span class="co">#is the object a numeric vector?  </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>( name_list ) <span class="co"># is the object a factor vector?</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>( name_list ) <span class="co"># is the object a logical vector?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Missing values are dealt with in R by NA.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">3</span>,<span class="cn">NA</span>,<span class="dv">10</span> ) <span class="co"># create a vector with a missing value.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">*</span>y <span class="co"># multiple the vector by 2.  </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>( y ) <span class="co"># which positions in y have missing values?  </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>y[ <span class="fu">is.na</span>( y )] <span class="co">#subset meeting condition.</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>y[ <span class="sc">!</span><span class="fu">is.na</span>( y )] <span class="co"># subset meeting a different condition.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="matrices-in-r" class="level3">
<h3 class="anchored" data-anchor-id="matrices-in-r"><strong>7. Matrices in R</strong></h3>
<p>In addition to vectors, we can create a matrix, which is a 2-dimensional representation of data. A matrix has dimensions <em>r X c</em> which means rows by columns. The number of rows and columns a matrix has is referred to as its “order” or “dimensionality”. This information is returned by using the <code>dim()</code> function. Matrices can be created by combining existing vectors using the <code>rbind()</code> and <code>cbind()</code> functions. The <code>rbind()</code> function means “row bind” and binds together vectors by rows. Think of it as stacking vectors on each other. The <code>cbind()</code> function means “column bind” and binds together vectors by rows. Think of it as placing them side by side. Let’s take a look:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>x  <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span> )</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>y  <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">1</span> )</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>( x,y ) <span class="co">#bind x and y by row to create a 2 X 5 matrix.</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>m1 <span class="co">#just enter the name of the object to print it.</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>( x,y ) <span class="co">#bind x and y by column to create a 5 X 2 matrix.</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>m2 <span class="co">#just enter the name of the object to print it.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For both functions, the dimensions of the vectors must be the same (i.e.&nbsp;same number of rows and columns).<br>
Let’s see some examples:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>l  <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span> )</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>n  <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">5</span> )</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>( l,n ) <span class="co"># returns an error because the dimensions differ.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can index the matrix <code>m1</code> or <code>m2</code> by using the brackets <code>[ ]</code> with a comma between the two dimensions. Since a matrix is 2-dimensions, we can reference a specific element, an entire row, or an entire column:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>m1[<span class="dv">2</span>,<span class="dv">2</span>] <span class="co">#what is the value of the element in the 2nd row, 2nd column?</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>m1[,<span class="dv">2</span>]  <span class="co">#what are the values in the second column?</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>m1[<span class="dv">2</span>,]  <span class="co">#what are the values in the second row?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>m2[<span class="dv">2</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#change the value to zero.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>m2[<span class="dv">2</span>,]  <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#change the second row to zeros.</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>m2[,<span class="dv">2</span>]  <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#change the second column to zeros.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the code chunk above, note the difference between <code>[,#]</code> and <code>[#,]</code>. A comma in front of the argument (i.e.&nbsp;<code>[,#]</code>) applies to the columns) and a common after the argument (i.e.&nbsp;<code>[#,]</code>) applies to the rows.</p>
<p>Also, notice that <code>m1[2,2]</code>, is an object, just as <code>m1</code> is an object. In effect, we are <em>subsetting</em> the object <code>m1</code> when we index it.</p>
<p>Matrices can also be created from a list of numbers using the <code>matrix()</code> and <code>c()</code> functions.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>( <span class="fu">c</span>( <span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span> ),<span class="at">nrow=</span><span class="dv">3</span>,<span class="at">ncol=</span><span class="dv">3</span> )</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>m3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="one-of-the-most-important-functions-in-r-help" class="level3">
<h3 class="anchored" data-anchor-id="one-of-the-most-important-functions-in-r-help"><strong>8. One of the most important functions in R: <code>help()</code></strong></h3>
<p>A useful feature of R is an extensive documentation of each of the functions. To access the main R help archive online, type: <code>help.start()</code><br>
The <code>help()</code> function, or a simple <code>?</code>, can be used to get help about a specific function. For example: <code>help(c)</code> or <code>?c</code> returns the help page for the <code>c()</code> function.</p>
<p>Take a look at the help page. The first line shows you the function and the package it is written for in brackets (more on packages below). The help page provides a description, how to use it (i.e.&nbsp;what are the arguments), and a description of what each argument does. Further details and examples are provided as well.</p>
<p>Let’s take a look at another function that creates sequences of numbers, the <code>seq( )</code> function. There are several ways to use the <code>seq( )</code> function. The most common are:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>( <span class="at">from=</span>, <span class="at">to=</span>, <span class="at">by=</span> ) <span class="co"># Starts at from, ends at to, steps defined by by.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>( <span class="at">from=</span>, <span class="at">to=</span>, <span class="at">length=</span> ) <span class="co"># Starts at from, ends at to, steps defined by length.  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example:<br>
if we want to create an object of 5 values that starts with 1 and ends with 5, we type: <code>seq( from=1, to=5, by=1 )</code>.<br>
if we want to create an object of 5 values that starts with 1 and ends with 9, we type: <code>seq( from=1, to=9, by=2 )</code>.<br>
We could also have used the <code>length=</code> argument: <code>seq( from=1, to=10, length=5 )</code>.</p>
<p>Since R knows that <code>from=</code> or <code>to=</code> or <code>by=</code> or <code>length=</code> are arguments, we do not have to type them in the syntax: <code>seq( 1, 9, 2 )</code> is identical to <code>seq( from=1, to=9, by=2 )</code> (as far as R is concerned).</p>
<p>For the help function to work, you need to know the exact name of the function. If you don’t know this, but have a fuzzy idea of what it might be are what you want the function to do, you can use the <code>help.search("</code>fuzzy notion<code>")</code> function (or just put <code>??</code> in front of the word).</p>
<p>For example, say you want to calculate the standard deviation for an object, but do not know the function name. Try: <code>help.search( "standarddeviation" )</code> or <code>??standarddeviation</code> (note the absence of a space). This returns the list of help topics that contain the phrase. We see that the standard deviation function is called <code>sd()</code>.</p>
</section>
<section id="packages-and-the-install.packages-and-library-functions" class="level3">
<h3 class="anchored" data-anchor-id="packages-and-the-install.packages-and-library-functions"><strong>9. Packages and the <code>install.packages()</code> and <code>library()</code> Functions</strong></h3>
<p>R has MANY preprogrammed functions that are automatically loaded when you open the program. Functions are stored in “packages”. Although there are many preprogrammed functions, there are even MORE functions that you can install on your own. A package in R is a collection of functions, usually written for a specific purpose.</p>
<p>We can see the packages available from CRAN at <a href="http://cran.r-project.org">http://cran.r-project.org/</a>. Just click on the “packages” link or go to <a href="https://cran.r-project.org/web/packages/index.html" class="uri">https://cran.r-project.org/web/packages/index.html</a>. As of writing this there are nearly 13,000 packages. There is a WIDE variety of packages available, this is another reason why R is awesome. If you can think it, someone has probably written a package for it in R (and if not, <em>you</em> can write one and contribute [isn’t it great!]).</p>
<p><strong>Take a few moments and look through the packages</strong></p>
<p>If there is a particular package you want to add, you simply use the <code>install.packages()</code> function like this: <code>install.packages("</code>package name<code>")</code>.</p>
<p>After the package is installed on your machine, you do not need to reinstall it each time you open a new session. Rather, you just need to load the package using the <code>library()</code> function like this: <code>library("</code>package name<code>")</code>.</p>
<p>Some packages require other packages for them to work. If there is an error, you need to install the additional packages.</p>
<p>Note that each time you open R you have to load any packages that you manually loaded using the <code>install.packages()</code> function. In other words, if we closed R and then reopened it, we would need to type <code>library( "ergm" )</code> to load the functions in <code>ergm</code>. Note that we <em>do not</em> have to reinstall the package using <code>install.packages()</code>, we just have to load the library.</p>
<p>If you have installed the package, but have not loaded it, R will return an error saying that a particular function is not found.<br>
For example, the function <code>rgraph()</code> in the package <code>sna</code> (which is a set of tools for working with social networks that we will use for this course) is used to create random graphs. Type <code>?rgraph</code> and you get an error stating that there is no documentation avaitutorialle. This is because the <code>sna</code> library has not been loaded (even if you have installed <code>sna</code>). Typing <code>install.packages( "sna" )</code> and <code>library( sna )</code> prior to <code>?rgraph()</code> will solve this problem.</p>
<p>A final point on loading packages. Since anyone can write and contributes packages to R, it is not surprising that some packages occasionally use the same names for functions. When you have loaded libraries for packages that have conflicting functions, R will output a message indicating there is an issue.</p>
<p>For example, the <code>sna</code> package and the <code>tnet</code> package both have a function called <code>betweenness</code>, but the functions are programmed differently. When you load <code>tnet</code> after loading <code>sna</code> (or <em>visa versa</em>), R will give you a warning that an “object is being masked”. That means the functionality of <code>betweenness</code> in <code>sna</code> is no longer used. Let’s check it out:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>( <span class="st">"sna"</span> )</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( sna )</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>( <span class="st">"tnet"</span> )</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( tnet )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This can be a bit frustrating. In such cases, you can unload the package using the <code>detach()</code> function. See: <code>?detach</code> for an example.</p>
</section>
<section id="r-session-management" class="level3">
<h3 class="anchored" data-anchor-id="r-session-management"><strong>10. R Session Management</strong></h3>
<p>All variables created in R are stored in the “workspace”. Think of it as a work bench that has a bunch of stuff on it that you have created.</p>
<p>To see what exists in the workspace, type: <code>ls()</code>.</p>
<p>We can remove specific variables with the <code>rm()</code> function. This helps clear up space (i.e.&nbsp;conserve memory). For example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>( <span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span> ) <span class="co"># create the object.</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()          <span class="co"># see the objects.</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>( x )         <span class="co"># remove the object x.</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()          <span class="co"># no more x.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To remove everything from the workspace use: <code>rm( list=ls() )</code>. This is helpful for starting a session to make sure everything is cleaned out.</p>
<p>When you start R, it nominates one of the directories on your hard drive as a working directory, which is where it looks for user-written programs and data files.</p>
<p>To determine the current directory, type: <code>getwd()</code>.<br>
You can set the working directory also by typing: <code>setwd("</code>your desired directory here<code>")</code>.</p>
<p>For example, if you are using Windows OS and want to set your directory to be the “C” drive, type: <code>setwd( "C:/" )</code>. <em>NOTE</em>: when you copy and paste filepaths in Windows, the folders are denoted with <code>\</code>, while R uses <code>/</code>.</p>
<p>Or, if you are using Mac OS and want to set your directory to be a folder called “Users”, type: <code>setwd( "/Users" )</code>.</p>
<p>On the Windows OS you can set R to automatically start up in your preferred working directory by right clicking on the program shortcut, choosing properties, and completing the ‘Start in’ field. On the Mac OS you can set the initial working directory using the Preferences menu.</p>
<p>To save the workspace use the <code>save.image()</code> function. This function requires a file path, a file name, and the extension “.RData” which is the format for an R workspace file.</p>
<p>For example, to save a workspace called “OurFirstTutorial” to the current directory, simply type: <code>save.image("OurFirstTutorial.Rdata")</code>. You can also write in the directory of you want to save it somewhere else. You can also do this by the pull-down menu with the File/Save option.</p>
<p>To load a previously saved workspace, you can either click on the file outside of R or use the <code>load()</code> function (e.g.&nbsp;<code>load("OurFirstTutorial.Rdata")</code>). If you get an error, make sure you are referring the correct directory. You can also choose Load Workspace from the pull-down menu.</p>
<p>Note that only the objects in the workspace are saved, not the text of what you have written.</p>
</section>
<section id="bonus-r-studio" class="level3">
<h3 class="anchored" data-anchor-id="bonus-r-studio"><strong>11. (Bonus!) R Studio</strong></h3>
<p>You may be surprised to discover how little functionality is implemented in the standard R GUI (i.e.&nbsp;graphical user interface). The standard R GUI implements only very rudimentary functionality through menus: reading help, managing multiple graphics windows, editing some source and data files, and some other basic functionality. There are no menu items, buttons, or palettes for loading data, transforming data, plotting data, or doing any real work with data. Commercial applications like SAS, SPSS, and Stata include user interfaces with much more functionality.</p>
<p>This was just the nature of working with R until some awesome human beings created RStudio. RStudio is one of several projects to build an easier-to-use GUI for R. It is a free, open-source IDE (i.e.&nbsp;integrated development environment) for working with R. Unlike the standard R GUI, RStudio tiles windows on the screen and puts different windows in different tabs. RStudio can be downloaded from: <a href="http://www.rstudio.com" class="uri">http://www.rstudio.com</a>.</p>
</section>
<section id="rstudio-workthrough" class="level3">
<h3 class="anchored" data-anchor-id="rstudio-workthrough">RStudio workthrough</h3>
<p>Ok, now open RStudio and let’s take a look!</p>
<p>Now, that you have RStudio up and running, try rerunning some of the code above. You will see that R operates within the RStudio environment. However, there are more tools available in RStudio which we will use.</p>
</section>
</section>
<section id="test-your-knowledge-exercises" class="level2">
<h2 class="anchored" data-anchor-id="test-your-knowledge-exercises">Test Your Knowledge Exercises</h2>
<ul>
<li>After installing R, what does the <code>&gt;</code> prompt represent?</li>
<li>Create an object called <code>a</code> with the value 7.</li>
<li>Which of the following is a valid object name?
<ul>
<li>3cats</li>
<li>.hidden_data</li>
<li>my-object</li>
<li>_underscore</li>
</ul></li>
<li>Explain what the following code does: <code>b &lt;- 10</code>?</li>
<li>What is a function in R? Explain using the <code>c()</code> function as an example.</li>
<li>Create an object called <code>numbers</code> that contains the values 2, 4, 6, 8, and 10 using the <code>c()</code> function.</li>
<li>Type the following code: <code>length( numbers )</code>. What is the meaning of the number it returns?</li>
<li>Create a vector <code>z</code> with the values 10 through 20. Now, write code to retrieve:
<ul>
<li>The 3rd element in <code>z</code>.</li>
<li>The 2nd through 5th elements in <code>z</code>.</li>
<li>The 1st and last elements in <code>z</code>.</li>
</ul></li>
<li>What is the difference between <code>z[3:5]</code> and <code>z[ c(3,5) ]</code>?</li>
<li>What is the purpose of the <code>install.packages()</code> function? The <code>library()</code> function?</li>
<li>Why might you see a “function not found” error when trying to use a function from a package?</li>
<li>Look through the packages on the CRAN repository. Find one and install it.</li>
</ul>
</section>
<section id="tutorial-summary" class="level2">
<h2 class="anchored" data-anchor-id="tutorial-summary">Tutorial Summary</h2>
<p>This tutorial provides a quick introduction to R. R is a versatile and open-source programming language designed for data science and statistical analysis. As we will see, it is one of the best environments for working with social network data. We began with an overview of R’s history, emphasizing its unique features, such as being free and customizable through numerous packages. The tutorial then guides readers through essential concepts, including installing R, understanding the R environment, and creating objects, which are fundamental building blocks of any R session. Readers learn how to use functions, reference and manipulate objects, and work with different data types (numeric, character, factor, and logical). The tutorial also covers indexing techniques for accessing specific elements within objects and introduces matrices as a two-dimensional data structure. Practical advice is provided on navigating R’s extensive documentation, installing and loading packages, and managing the R workspace effectively. We also reviewed (briefly) RStudio, a powerful integrated development environment that enhances the R user experience. You are now equipped with foundational skills to explore R further and apply it to real-world data tasks as you continue developing your skills as a crime analyst.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./snaca-r-rmarkdown.html" class="pagination-link">
        <span class="nav-page-text">Creating Data-Driven Documents using RMarkdown</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Social Network Analysis for Crime Analysts using R was written by <a href="https://jacobtnyoung.github.io/">Jacob T.N. Young</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>